{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\MERNWEEK5\\\\real-time-communication-with-socket-io-wacuk-a\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport io from 'socket.io-client';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io('http://localhost:5000', {\n  transports: ['websocket', 'polling']\n});\n\n// Notification sound (we'll use a simple beep for now)\nconst playNotificationSound = () => {\n  const audioContext = new (window.AudioContext || window.webkitAudioContext)();\n  const oscillator = audioContext.createOscillator();\n  const gainNode = audioContext.createGain();\n  oscillator.connect(gainNode);\n  gainNode.connect(audioContext.destination);\n  oscillator.frequency.value = 800;\n  oscillator.type = 'sine';\n  gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);\n  gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);\n  oscillator.start(audioContext.currentTime);\n  oscillator.stop(audioContext.currentTime + 0.5);\n};\nfunction App() {\n  _s();\n  const [username, setUsername] = useState('');\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [isRegistered, setIsRegistered] = useState(false);\n  const [privateMessage, setPrivateMessage] = useState('');\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [privateMessages, setPrivateMessages] = useState({});\n  const [activeRoom, setActiveRoom] = useState('general');\n  const [rooms, setRooms] = useState(['general', 'nairobi', 'mombasa', 'kisumu', 'coastal']);\n  const [connectionStatus, setConnectionStatus] = useState('disconnected');\n  const [notificationsEnabled, setNotificationsEnabled] = useState(true);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const [isWindowFocused, setIsWindowFocused] = useState(true);\n  const messagesEndRef = useRef(null);\n\n  // Track window focus for notifications\n  useEffect(() => {\n    const handleFocus = () => setIsWindowFocused(true);\n    const handleBlur = () => setIsWindowFocused(false);\n    window.addEventListener('focus', handleFocus);\n    window.addEventListener('blur', handleBlur);\n    return () => {\n      window.removeEventListener('focus', handleFocus);\n      window.removeEventListener('blur', handleBlur);\n    };\n  }, []);\n\n  // Request browser notification permission\n  useEffect(() => {\n    if (\"Notification\" in window && Notification.permission === \"default\") {\n      Notification.requestPermission();\n    }\n  }, []);\n\n  // Monitor connection status\n  useEffect(() => {\n    socket.on('connect', () => {\n      console.log('âœ… Connected to server');\n      setConnectionStatus('connected');\n    });\n    socket.on('disconnect', () => {\n      console.log('âŒ Disconnected from server');\n      setConnectionStatus('disconnected');\n    });\n    socket.on('connect_error', error => {\n      console.log('âŒ Connection error:', error);\n      setConnectionStatus('error');\n    });\n    return () => {\n      socket.off('connect');\n      socket.off('disconnect');\n      socket.off('connect_error');\n    };\n  }, []);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages, privateMessages]);\n\n  // Show browser notification\n  const showBrowserNotification = (title, body) => {\n    if (!notificationsEnabled) return;\n    if (\"Notification\" in window && Notification.permission === \"granted\") {\n      new Notification(title, {\n        body: body,\n        icon: '/kenya-flag.png',\n        // You can add a Kenyan flag icon\n        badge: '/kenya-flag.png'\n      });\n    }\n  };\n  useEffect(() => {\n    const handleNewMessage = data => {\n      setMessages(prev => [...prev, data]);\n\n      // Show notification for new messages from others\n      if (data.sender !== username && notificationsEnabled) {\n        if (!isWindowFocused || document.hidden) {\n          setUnreadCount(prev => prev + 1);\n          playNotificationSound();\n          showBrowserNotification(`ğŸ’¬ New message from ${data.sender}`, data.text.length > 50 ? data.text.substring(0, 50) + '...' : data.text);\n        }\n      }\n    };\n    socket.on('chat message', handleNewMessage);\n    socket.on('user joined', userList => {\n      setUsers(userList);\n    });\n    socket.on('user left', userList => {\n      setUsers(userList);\n    });\n    socket.on('private message', data => {\n      console.log('ğŸ”’ Received private message:', data);\n      setPrivateMessages(prev => {\n        const key = [data.from, data.to].sort().join('-');\n        const updatedMessages = {\n          ...prev,\n          [key]: [...(prev[key] || []), data]\n        };\n\n        // Show notification for private messages\n        if (data.from !== username && notificationsEnabled) {\n          if (!isWindowFocused || document.hidden || selectedUser !== data.from) {\n            setUnreadCount(prev => prev + 1);\n            playNotificationSound();\n            showBrowserNotification(`ğŸ”’ Private message from ${data.from}`, data.text.length > 50 ? data.text.substring(0, 50) + '...' : data.text);\n          }\n        }\n        return updatedMessages;\n      });\n    });\n    socket.on('room users', data => {\n      setUsers(data.users);\n    });\n    return () => {\n      socket.off('chat message');\n      socket.off('user joined');\n      socket.off('user left');\n      socket.off('private message');\n      socket.off('room users');\n    };\n  }, [username, notificationsEnabled, isWindowFocused, selectedUser]);\n  const handleRegister = e => {\n    e.preventDefault();\n    if (username.trim()) {\n      console.log('ğŸ”„ Attempting to register:', username);\n      socket.emit('register', username);\n      setIsRegistered(true);\n      socket.emit('join room', {\n        username,\n        room: 'general'\n      });\n    }\n  };\n  const handleSendMessage = e => {\n    e.preventDefault();\n    if (message.trim() && username) {\n      const messageData = {\n        text: message,\n        sender: username,\n        timestamp: new Date().toISOString(),\n        room: activeRoom\n      };\n      console.log('ğŸ”„ Sending message:', messageData);\n      socket.emit('chat message', messageData);\n      setMessage('');\n    }\n  };\n  const handleSendPrivateMessage = e => {\n    e.preventDefault();\n    if (privateMessage.trim() && selectedUser && username) {\n      const privateMessageData = {\n        to: selectedUser,\n        from: username,\n        text: privateMessage,\n        timestamp: new Date().toISOString()\n      };\n      console.log('ğŸ”’ Sending private message:', privateMessageData);\n      socket.emit('private message', privateMessageData);\n\n      // Add the message to local state immediately\n      setPrivateMessages(prev => {\n        const key = [username, selectedUser].sort().join('-');\n        return {\n          ...prev,\n          [key]: [...(prev[key] || []), privateMessageData]\n        };\n      });\n      setPrivateMessage('');\n    }\n  };\n  const startPrivateChat = user => {\n    console.log('ğŸ’¬ Starting private chat with:', user);\n    setSelectedUser(user);\n    // Reset unread count when opening private chat\n    setUnreadCount(0);\n  };\n  const closePrivateChat = () => {\n    setSelectedUser(null);\n    setPrivateMessage('');\n  };\n  const joinRoom = room => {\n    socket.emit('join room', {\n      username,\n      room\n    });\n    setActiveRoom(room);\n    setMessages([]);\n    // Reset unread count when switching rooms\n    setUnreadCount(0);\n  };\n  const toggleNotifications = () => {\n    setNotificationsEnabled(!notificationsEnabled);\n    if (!notificationsEnabled && \"Notification\" in window && Notification.permission === \"default\") {\n      Notification.requestPermission();\n    }\n  };\n\n  // Quick messages in English\n  const quickMessages = [\"Hello everyone! ğŸ‘‹\", \"How is everyone doing? ğŸ˜Š\", \"Good morning! â˜€ï¸\", \"Anyone from Nairobi? ğŸ™ï¸\", \"Kenya to the world! ğŸ‡°ğŸ‡ª\", \"Have a great day! ğŸŒŸ\"];\n  const sendQuickMessage = msg => {\n    setMessage(msg);\n  };\n\n  // Get private messages for a specific user\n  const getPrivateMessagesWithUser = user => {\n    const key = [username, user].sort().join('-');\n    return privateMessages[key] || [];\n  };\n  if (!isRegistered) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"kenya-pattern\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"register-form floating\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\uD83C\\uDF89 Welcome to Kenya Chat Connect! \\uD83C\\uDF89\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              marginBottom: '20px',\n              color: '#666'\n            },\n            children: \"Connect with Kenyans from around the world in real-time!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '10px',\n              marginBottom: '15px',\n              borderRadius: '5px',\n              textAlign: 'center',\n              backgroundColor: connectionStatus === 'connected' ? '#d4edda' : connectionStatus === 'error' ? '#f8d7da' : '#fff3cd',\n              color: connectionStatus === 'connected' ? '#155724' : connectionStatus === 'error' ? '#721c24' : '#856404',\n              border: '1px solid'\n            },\n            children: [\"Status: \", connectionStatus.toUpperCase()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleRegister,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Choose your username...\",\n              value: username,\n              onChange: e => setUsername(e.target.value),\n              className: \"kenya-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"kenya-button\",\n              style: {\n                width: '100%',\n                marginTop: '15px'\n              },\n              disabled: connectionStatus !== 'connected',\n              children: connectionStatus === 'connected' ? 'ğŸ” Join Chat' : 'Connecting...'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '20px',\n              fontSize: '0.9rem',\n              color: '#888'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\uD83D\\uDCA1 Did you know:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 15\n            }, this), \" Connecting Kenyans worldwide!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"kenya-pattern\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uD83C\\uDDF0\\uD83C\\uDDEA Kenya Chat Connect \\uD83C\\uDDF0\\uD83C\\uDDEA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Connecting Kenyans Worldwide - With Notifications!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              color: 'var(--kenya-green)',\n              margin: 0\n            },\n            children: [\"Welcome, \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 24\n            }, this), \"! \\uD83D\\uDC4B\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#666',\n              margin: 0\n            },\n            children: [\"Active room: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: activeRoom\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 28\n            }, this), selectedUser && ` | Private chat with: ${selectedUser}`]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '10px',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: toggleNotifications,\n            className: \"kenya-button\",\n            style: {\n              padding: '8px 12px',\n              fontSize: '12px',\n              background: notificationsEnabled ? 'linear-gradient(45deg, var(--kenya-green), var(--kenya-black))' : 'linear-gradient(45deg, #666, #999)'\n            },\n            title: notificationsEnabled ? \"Disable notifications\" : \"Enable notifications\",\n            children: notificationsEnabled ? 'ğŸ””' : 'ğŸ”•'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this), unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: 'var(--kenya-red)',\n              color: 'white',\n              borderRadius: '50%',\n              width: '25px',\n              height: '25px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              fontSize: '12px',\n              fontWeight: 'bold'\n            },\n            children: unreadCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"kenya-button\",\n            style: {\n              padding: '10px 20px'\n            },\n            children: [\"Online: \", users.length, \" | Status: \", connectionStatus]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"online-users\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"\\uD83D\\uDC65 Online Users (\", users.length - 1, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"users-list\",\n            children: users.filter(user => user !== username).map((user, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `user-item ${selectedUser === user ? 'selected' : ''}`,\n              onClick: () => startPrivateChat(user),\n              style: {\n                cursor: 'pointer'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  marginRight: '8px'\n                },\n                children: selectedUser === user ? 'ğŸ’¬' : 'ğŸŸ¢'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 19\n              }, this), user, getPrivateMessagesWithUser(user).length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  marginLeft: 'auto',\n                  background: 'var(--kenya-red)',\n                  color: 'white',\n                  borderRadius: '50%',\n                  width: '20px',\n                  height: '20px',\n                  fontSize: '12px',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center'\n                },\n                children: getPrivateMessagesWithUser(user).length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              marginTop: '30px',\n              marginBottom: '15px'\n            },\n            children: \"\\uD83C\\uDFE0 Chat Rooms\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '10px'\n            },\n            children: rooms.map(room => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => joinRoom(room),\n              className: `kenya-button ${activeRoom === room ? '' : 'secondary'}`,\n              style: {\n                background: activeRoom === room ? 'linear-gradient(45deg, var(--kenya-red), var(--kenya-black))' : 'linear-gradient(45deg, #666, #999)',\n                padding: '10px 15px',\n                fontSize: '14px'\n              },\n              children: [room === 'general' && 'ğŸŒ ', room === 'nairobi' && 'ğŸ™ï¸ ', room === 'mombasa' && 'ğŸ–ï¸ ', room === 'kisumu' && 'ğŸŸ ', room === 'coastal' && 'ğŸŒŠ ', room.charAt(0).toUpperCase() + room.slice(1)]\n            }, room, true, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              marginTop: '30px',\n              marginBottom: '15px'\n            },\n            children: \"\\uD83D\\uDCAC Quick Messages\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: '1fr 1fr',\n              gap: '8px'\n            },\n            children: quickMessages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => sendQuickMessage(msg),\n              className: \"kenya-button\",\n              style: {\n                padding: '8px 12px',\n                fontSize: '12px',\n                background: 'linear-gradient(45deg, var(--kenya-gold), var(--kenya-sun))',\n                color: 'var(--kenya-black)'\n              },\n              children: msg\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main-chat\",\n          children: [selectedUser && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"private-chat-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"private-chat-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: [\"\\uD83D\\uDCAC Private Chat with \", selectedUser]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: closePrivateChat,\n                className: \"close-button\",\n                children: \"\\u2715\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"private-messages\",\n              children: [getPrivateMessagesWithUser(selectedUser).length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  textAlign: 'center',\n                  color: '#666',\n                  padding: '20px'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"No messages yet. Start the conversation!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 491,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 490,\n                columnNumber: 21\n              }, this) : getPrivateMessagesWithUser(selectedUser).map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `message ${msg.from === username ? 'own-message' : 'other-message'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [msg.from, \":\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 496,\n                  columnNumber: 25\n                }, this), \" \", msg.text, /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"timestamp\",\n                  children: new Date(msg.timestamp).toLocaleTimeString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 497,\n                  columnNumber: 25\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 23\n              }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                ref: messagesEndRef\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleSendPrivateMessage,\n              className: \"private-message-form\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: `Type a private message for ${selectedUser}...`,\n                value: privateMessage,\n                onChange: e => setPrivateMessage(e.target.value),\n                className: \"kenya-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"kenya-button\",\n                children: \"\\uD83D\\uDCE4 Send\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-messages\",\n            children: [messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: 'center',\n                color: '#666',\n                padding: '40px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: [\"\\uD83C\\uDF89 Welcome to the \", activeRoom, \" room!\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Start a conversation by typing a message below...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: '20px',\n                  display: 'flex',\n                  flexWrap: 'wrap',\n                  gap: '10px',\n                  justifyContent: 'center'\n                },\n                children: quickMessages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => sendQuickMessage(msg),\n                  className: \"kenya-button\",\n                  style: {\n                    padding: '8px 15px',\n                    fontSize: '12px'\n                  },\n                  children: msg\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 527,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 522,\n              columnNumber: 17\n            }, this) : messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `message ${msg.sender === username ? 'own-message' : 'other-message'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [msg.sender, \":\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 21\n              }, this), \" \", msg.text, msg.timestamp && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"timestamp\",\n                children: new Date(msg.timestamp).toLocaleTimeString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 39\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 19\n            }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n              ref: messagesEndRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 546,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSendMessage,\n            className: \"message-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Type your message here... (You can also share photos or thoughts)\",\n              value: message,\n              onChange: e => setMessage(e.target.value),\n              className: \"kenya-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 551,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"kenya-button\",\n              children: \"\\uD83D\\uDCE8 Send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          marginTop: '30px',\n          padding: '20px',\n          borderTop: '2px dashed var(--kenya-gold)',\n          color: '#666'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\uD83C\\uDDF0\\uD83C\\uDDEA Kenya Chat Connect\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 13\n          }, this), \" - Bringing Kenyans together worldwide! \\uD83C\\uDF93 School Project | \\uD83D\\uDCBB Built with React & Socket.io\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 571,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            children: \"Features: Real-time Chat \\u2022 Private Messaging \\u2022 Multiple Rooms \\u2022 User Presence \\u2022 Sound & Browser Notifications\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'center',\n            gap: '15px',\n            marginTop: '10px',\n            fontSize: '1.5rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            title: \"Real-time Chat\",\n            children: \"\\uD83D\\uDCAC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 575,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            title: \"Private Messaging\",\n            children: \"\\uD83D\\uDD12\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 576,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            title: \"Notifications\",\n            children: \"\\uD83D\\uDD14\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 577,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            title: \"Community\",\n            children: \"\\uD83D\\uDC65\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 578,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            title: \"Kenya Pride\",\n            children: \"\\uD83C\\uDDF0\\uD83C\\uDDEA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 579,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 566,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 327,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"oHgkreo/ZKTwPBhV3WuWXQkOoDY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","io","jsxDEV","_jsxDEV","socket","transports","playNotificationSound","audioContext","window","AudioContext","webkitAudioContext","oscillator","createOscillator","gainNode","createGain","connect","destination","frequency","value","type","gain","setValueAtTime","currentTime","exponentialRampToValueAtTime","start","stop","App","_s","username","setUsername","message","setMessage","messages","setMessages","users","setUsers","isRegistered","setIsRegistered","privateMessage","setPrivateMessage","selectedUser","setSelectedUser","privateMessages","setPrivateMessages","activeRoom","setActiveRoom","rooms","setRooms","connectionStatus","setConnectionStatus","notificationsEnabled","setNotificationsEnabled","unreadCount","setUnreadCount","isWindowFocused","setIsWindowFocused","messagesEndRef","handleFocus","handleBlur","addEventListener","removeEventListener","Notification","permission","requestPermission","on","console","log","error","off","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","showBrowserNotification","title","body","icon","badge","handleNewMessage","data","prev","sender","document","hidden","text","length","substring","userList","key","from","to","sort","join","updatedMessages","handleRegister","e","preventDefault","trim","emit","room","handleSendMessage","messageData","timestamp","Date","toISOString","handleSendPrivateMessage","privateMessageData","startPrivateChat","user","closePrivateChat","joinRoom","toggleNotifications","quickMessages","sendQuickMessage","msg","getPrivateMessagesWithUser","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","marginBottom","color","padding","borderRadius","textAlign","backgroundColor","border","toUpperCase","onSubmit","placeholder","onChange","target","width","marginTop","disabled","fontSize","display","justifyContent","alignItems","margin","gap","onClick","background","height","fontWeight","filter","map","index","cursor","marginRight","marginLeft","flexDirection","charAt","slice","gridTemplateColumns","toLocaleTimeString","ref","flexWrap","borderTop","_c","$RefreshReg$"],"sources":["C:/Users/User/Desktop/MERNWEEK5/real-time-communication-with-socket-io-wacuk-a/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport io from 'socket.io-client';\nimport './App.css';\n\nconst socket = io('http://localhost:5000', {\n  transports: ['websocket', 'polling']\n});\n\n// Notification sound (we'll use a simple beep for now)\nconst playNotificationSound = () => {\n  const audioContext = new (window.AudioContext || window.webkitAudioContext)();\n  const oscillator = audioContext.createOscillator();\n  const gainNode = audioContext.createGain();\n  \n  oscillator.connect(gainNode);\n  gainNode.connect(audioContext.destination);\n  \n  oscillator.frequency.value = 800;\n  oscillator.type = 'sine';\n  \n  gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);\n  gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);\n  \n  oscillator.start(audioContext.currentTime);\n  oscillator.stop(audioContext.currentTime + 0.5);\n};\n\nfunction App() {\n  const [username, setUsername] = useState('');\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [isRegistered, setIsRegistered] = useState(false);\n  const [privateMessage, setPrivateMessage] = useState('');\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [privateMessages, setPrivateMessages] = useState({});\n  const [activeRoom, setActiveRoom] = useState('general');\n  const [rooms, setRooms] = useState(['general', 'nairobi', 'mombasa', 'kisumu', 'coastal']);\n  const [connectionStatus, setConnectionStatus] = useState('disconnected');\n  const [notificationsEnabled, setNotificationsEnabled] = useState(true);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const [isWindowFocused, setIsWindowFocused] = useState(true);\n  const messagesEndRef = useRef(null);\n\n  // Track window focus for notifications\n  useEffect(() => {\n    const handleFocus = () => setIsWindowFocused(true);\n    const handleBlur = () => setIsWindowFocused(false);\n    \n    window.addEventListener('focus', handleFocus);\n    window.addEventListener('blur', handleBlur);\n    \n    return () => {\n      window.removeEventListener('focus', handleFocus);\n      window.removeEventListener('blur', handleBlur);\n    };\n  }, []);\n\n  // Request browser notification permission\n  useEffect(() => {\n    if (\"Notification\" in window && Notification.permission === \"default\") {\n      Notification.requestPermission();\n    }\n  }, []);\n\n  // Monitor connection status\n  useEffect(() => {\n    socket.on('connect', () => {\n      console.log('âœ… Connected to server');\n      setConnectionStatus('connected');\n    });\n\n    socket.on('disconnect', () => {\n      console.log('âŒ Disconnected from server');\n      setConnectionStatus('disconnected');\n    });\n\n    socket.on('connect_error', (error) => {\n      console.log('âŒ Connection error:', error);\n      setConnectionStatus('error');\n    });\n\n    return () => {\n      socket.off('connect');\n      socket.off('disconnect');\n      socket.off('connect_error');\n    };\n  }, []);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages, privateMessages]);\n\n  // Show browser notification\n  const showBrowserNotification = (title, body) => {\n    if (!notificationsEnabled) return;\n    \n    if (\"Notification\" in window && Notification.permission === \"granted\") {\n      new Notification(title, {\n        body: body,\n        icon: '/kenya-flag.png', // You can add a Kenyan flag icon\n        badge: '/kenya-flag.png'\n      });\n    }\n  };\n\n  useEffect(() => {\n    const handleNewMessage = (data) => {\n      setMessages(prev => [...prev, data]);\n      \n      // Show notification for new messages from others\n      if (data.sender !== username && notificationsEnabled) {\n        if (!isWindowFocused || document.hidden) {\n          setUnreadCount(prev => prev + 1);\n          playNotificationSound();\n          showBrowserNotification(\n            `ğŸ’¬ New message from ${data.sender}`,\n            data.text.length > 50 ? data.text.substring(0, 50) + '...' : data.text\n          );\n        }\n      }\n    };\n\n    socket.on('chat message', handleNewMessage);\n\n    socket.on('user joined', (userList) => {\n      setUsers(userList);\n    });\n\n    socket.on('user left', (userList) => {\n      setUsers(userList);\n    });\n\n    socket.on('private message', (data) => {\n      console.log('ğŸ”’ Received private message:', data);\n      setPrivateMessages(prev => {\n        const key = [data.from, data.to].sort().join('-');\n        const updatedMessages = {\n          ...prev,\n          [key]: [...(prev[key] || []), data]\n        };\n        \n        // Show notification for private messages\n        if (data.from !== username && notificationsEnabled) {\n          if (!isWindowFocused || document.hidden || selectedUser !== data.from) {\n            setUnreadCount(prev => prev + 1);\n            playNotificationSound();\n            showBrowserNotification(\n              `ğŸ”’ Private message from ${data.from}`,\n              data.text.length > 50 ? data.text.substring(0, 50) + '...' : data.text\n            );\n          }\n        }\n        \n        return updatedMessages;\n      });\n    });\n\n    socket.on('room users', (data) => {\n      setUsers(data.users);\n    });\n\n    return () => {\n      socket.off('chat message');\n      socket.off('user joined');\n      socket.off('user left');\n      socket.off('private message');\n      socket.off('room users');\n    };\n  }, [username, notificationsEnabled, isWindowFocused, selectedUser]);\n\n  const handleRegister = (e) => {\n    e.preventDefault();\n    if (username.trim()) {\n      console.log('ğŸ”„ Attempting to register:', username);\n      socket.emit('register', username);\n      setIsRegistered(true);\n      socket.emit('join room', { username, room: 'general' });\n    }\n  };\n\n  const handleSendMessage = (e) => {\n    e.preventDefault();\n    if (message.trim() && username) {\n      const messageData = {\n        text: message,\n        sender: username,\n        timestamp: new Date().toISOString(),\n        room: activeRoom\n      };\n      console.log('ğŸ”„ Sending message:', messageData);\n      socket.emit('chat message', messageData);\n      setMessage('');\n    }\n  };\n\n  const handleSendPrivateMessage = (e) => {\n    e.preventDefault();\n    if (privateMessage.trim() && selectedUser && username) {\n      const privateMessageData = {\n        to: selectedUser,\n        from: username,\n        text: privateMessage,\n        timestamp: new Date().toISOString()\n      };\n      console.log('ğŸ”’ Sending private message:', privateMessageData);\n      socket.emit('private message', privateMessageData);\n      \n      // Add the message to local state immediately\n      setPrivateMessages(prev => {\n        const key = [username, selectedUser].sort().join('-');\n        return {\n          ...prev,\n          [key]: [...(prev[key] || []), privateMessageData]\n        };\n      });\n      setPrivateMessage('');\n    }\n  };\n\n  const startPrivateChat = (user) => {\n    console.log('ğŸ’¬ Starting private chat with:', user);\n    setSelectedUser(user);\n    // Reset unread count when opening private chat\n    setUnreadCount(0);\n  };\n\n  const closePrivateChat = () => {\n    setSelectedUser(null);\n    setPrivateMessage('');\n  };\n\n  const joinRoom = (room) => {\n    socket.emit('join room', { username, room });\n    setActiveRoom(room);\n    setMessages([]);\n    // Reset unread count when switching rooms\n    setUnreadCount(0);\n  };\n\n  const toggleNotifications = () => {\n    setNotificationsEnabled(!notificationsEnabled);\n    if (!notificationsEnabled && \"Notification\" in window && Notification.permission === \"default\") {\n      Notification.requestPermission();\n    }\n  };\n\n  // Quick messages in English\n  const quickMessages = [\n    \"Hello everyone! ğŸ‘‹\",\n    \"How is everyone doing? ğŸ˜Š\",\n    \"Good morning! â˜€ï¸\",\n    \"Anyone from Nairobi? ğŸ™ï¸\",\n    \"Kenya to the world! ğŸ‡°ğŸ‡ª\",\n    \"Have a great day! ğŸŒŸ\"\n  ];\n\n  const sendQuickMessage = (msg) => {\n    setMessage(msg);\n  };\n\n  // Get private messages for a specific user\n  const getPrivateMessagesWithUser = (user) => {\n    const key = [username, user].sort().join('-');\n    return privateMessages[key] || [];\n  };\n\n  if (!isRegistered) {\n    return (\n      <div className=\"App\">\n        <div className=\"kenya-pattern\"></div>\n        <div className=\"container\">\n          <div className=\"register-form floating\">\n            <h2>ğŸ‰ Welcome to Kenya Chat Connect! ğŸ‰</h2>\n            <p style={{marginBottom: '20px', color: '#666'}}>\n              Connect with Kenyans from around the world in real-time!\n            </p>\n            \n            {/* Connection Status Indicator */}\n            <div style={{\n              padding: '10px',\n              marginBottom: '15px',\n              borderRadius: '5px',\n              textAlign: 'center',\n              backgroundColor: \n                connectionStatus === 'connected' ? '#d4edda' :\n                connectionStatus === 'error' ? '#f8d7da' : '#fff3cd',\n              color: \n                connectionStatus === 'connected' ? '#155724' :\n                connectionStatus === 'error' ? '#721c24' : '#856404',\n              border: '1px solid'\n            }}>\n              Status: {connectionStatus.toUpperCase()}\n            </div>\n\n            <form onSubmit={handleRegister}>\n              <input\n                type=\"text\"\n                placeholder=\"Choose your username...\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n                className=\"kenya-input\"\n              />\n              <button \n                type=\"submit\" \n                className=\"kenya-button\" \n                style={{width: '100%', marginTop: '15px'}}\n                disabled={connectionStatus !== 'connected'}\n              >\n                {connectionStatus === 'connected' ? 'ğŸ” Join Chat' : 'Connecting...'}\n              </button>\n            </form>\n            <div style={{marginTop: '20px', fontSize: '0.9rem', color: '#888'}}>\n              <strong>ğŸ’¡ Did you know:</strong> Connecting Kenyans worldwide!\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"App\">\n      <div className=\"kenya-pattern\"></div>\n      \n      {/* Header */}\n      <header className=\"app-header\">\n        <div className=\"container\">\n          <h1>ğŸ‡°ğŸ‡ª Kenya Chat Connect ğŸ‡°ğŸ‡ª</h1>\n          <h2>Connecting Kenyans Worldwide - With Notifications!</h2>\n        </div>\n      </header>\n\n      <div className=\"container\">\n        <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px'}}>\n          <div>\n            <h3 style={{color: 'var(--kenya-green)', margin: 0}}>\n              Welcome, <strong>{username}</strong>! ğŸ‘‹\n            </h3>\n            <p style={{color: '#666', margin: 0}}>\n              Active room: <strong>{activeRoom}</strong>\n              {selectedUser && ` | Private chat with: ${selectedUser}`}\n            </p>\n          </div>\n          <div style={{display: 'flex', gap: '10px', alignItems: 'center'}}>\n            {/* Notifications Toggle */}\n            <button \n              onClick={toggleNotifications}\n              className=\"kenya-button\"\n              style={{\n                padding: '8px 12px',\n                fontSize: '12px',\n                background: notificationsEnabled ? \n                  'linear-gradient(45deg, var(--kenya-green), var(--kenya-black))' : \n                  'linear-gradient(45deg, #666, #999)'\n              }}\n              title={notificationsEnabled ? \"Disable notifications\" : \"Enable notifications\"}\n            >\n              {notificationsEnabled ? 'ğŸ””' : 'ğŸ”•'}\n            </button>\n            \n            {/* Unread Count Badge */}\n            {unreadCount > 0 && (\n              <div style={{\n                background: 'var(--kenya-red)',\n                color: 'white',\n                borderRadius: '50%',\n                width: '25px',\n                height: '25px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                fontSize: '12px',\n                fontWeight: 'bold'\n              }}>\n                {unreadCount}\n              </div>\n            )}\n            \n            <div className=\"kenya-button\" style={{padding: '10px 20px'}}>\n              Online: {users.length} | Status: {connectionStatus}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"chat-container\">\n          {/* Sidebar */}\n          <div className=\"online-users\">\n            <h3>ğŸ‘¥ Online Users ({users.length - 1})</h3>\n            <div className=\"users-list\">\n              {users.filter(user => user !== username).map((user, index) => (\n                <div \n                  key={index} \n                  className={`user-item ${selectedUser === user ? 'selected' : ''}`}\n                  onClick={() => startPrivateChat(user)}\n                  style={{cursor: 'pointer'}}\n                >\n                  <span style={{marginRight: '8px'}}>\n                    {selectedUser === user ? 'ğŸ’¬' : 'ğŸŸ¢'}\n                  </span>\n                  {user}\n                  {getPrivateMessagesWithUser(user).length > 0 && (\n                    <span style={{\n                      marginLeft: 'auto',\n                      background: 'var(--kenya-red)',\n                      color: 'white',\n                      borderRadius: '50%',\n                      width: '20px',\n                      height: '20px',\n                      fontSize: '12px',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center'\n                    }}>\n                      {getPrivateMessagesWithUser(user).length}\n                    </span>\n                  )}\n                </div>\n              ))}\n            </div>\n\n            {/* Chat Rooms */}\n            <h3 style={{marginTop: '30px', marginBottom: '15px'}}>ğŸ  Chat Rooms</h3>\n            <div style={{display: 'flex', flexDirection: 'column', gap: '10px'}}>\n              {rooms.map(room => (\n                <button\n                  key={room}\n                  onClick={() => joinRoom(room)}\n                  className={`kenya-button ${activeRoom === room ? '' : 'secondary'}`}\n                  style={{\n                    background: activeRoom === room ? \n                      'linear-gradient(45deg, var(--kenya-red), var(--kenya-black))' : \n                      'linear-gradient(45deg, #666, #999)',\n                    padding: '10px 15px',\n                    fontSize: '14px'\n                  }}\n                >\n                  {room === 'general' && 'ğŸŒ '}\n                  {room === 'nairobi' && 'ğŸ™ï¸ '}\n                  {room === 'mombasa' && 'ğŸ–ï¸ '}\n                  {room === 'kisumu' && 'ğŸŸ '}\n                  {room === 'coastal' && 'ğŸŒŠ '}\n                  {room.charAt(0).toUpperCase() + room.slice(1)}\n                </button>\n              ))}\n            </div>\n\n            {/* Quick Messages */}\n            <h3 style={{marginTop: '30px', marginBottom: '15px'}}>ğŸ’¬ Quick Messages</h3>\n            <div style={{display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '8px'}}>\n              {quickMessages.map((msg, index) => (\n                <button\n                  key={index}\n                  onClick={() => sendQuickMessage(msg)}\n                  className=\"kenya-button\"\n                  style={{\n                    padding: '8px 12px',\n                    fontSize: '12px',\n                    background: 'linear-gradient(45deg, var(--kenya-gold), var(--kenya-sun))',\n                    color: 'var(--kenya-black)'\n                  }}\n                >\n                  {msg}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Main Chat Area */}\n          <div className=\"main-chat\">\n            {/* Private Chat Section */}\n            {selectedUser && (\n              <div className=\"private-chat-section\">\n                <div className=\"private-chat-header\">\n                  <h3>ğŸ’¬ Private Chat with {selectedUser}</h3>\n                  <button \n                    onClick={closePrivateChat}\n                    className=\"close-button\"\n                  >\n                    âœ•\n                  </button>\n                </div>\n                \n                <div className=\"private-messages\">\n                  {getPrivateMessagesWithUser(selectedUser).length === 0 ? (\n                    <div style={{textAlign: 'center', color: '#666', padding: '20px'}}>\n                      <p>No messages yet. Start the conversation!</p>\n                    </div>\n                  ) : (\n                    getPrivateMessagesWithUser(selectedUser).map((msg, index) => (\n                      <div key={index} className={`message ${msg.from === username ? 'own-message' : 'other-message'}`}>\n                        <strong>{msg.from}:</strong> {msg.text}\n                        <span className=\"timestamp\">{new Date(msg.timestamp).toLocaleTimeString()}</span>\n                      </div>\n                    ))\n                  )}\n                  <div ref={messagesEndRef} />\n                </div>\n\n                <form onSubmit={handleSendPrivateMessage} className=\"private-message-form\">\n                  <input\n                    type=\"text\"\n                    placeholder={`Type a private message for ${selectedUser}...`}\n                    value={privateMessage}\n                    onChange={(e) => setPrivateMessage(e.target.value)}\n                    className=\"kenya-input\"\n                  />\n                  <button type=\"submit\" className=\"kenya-button\">\n                    ğŸ“¤ Send\n                  </button>\n                </form>\n              </div>\n            )}\n\n            {/* Main Chat Messages */}\n            <div className=\"chat-messages\">\n              {messages.length === 0 ? (\n                <div style={{textAlign: 'center', color: '#666', padding: '40px'}}>\n                  <h3>ğŸ‰ Welcome to the {activeRoom} room!</h3>\n                  <p>Start a conversation by typing a message below...</p>\n                  <div style={{marginTop: '20px', display: 'flex', flexWrap: 'wrap', gap: '10px', justifyContent: 'center'}}>\n                    {quickMessages.map((msg, index) => (\n                      <button\n                        key={index}\n                        onClick={() => sendQuickMessage(msg)}\n                        className=\"kenya-button\"\n                        style={{padding: '8px 15px', fontSize: '12px'}}\n                      >\n                        {msg}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              ) : (\n                messages.map((msg, index) => (\n                  <div key={index} className={`message ${msg.sender === username ? 'own-message' : 'other-message'}`}>\n                    <strong>{msg.sender}:</strong> {msg.text}\n                    {msg.timestamp && <span className=\"timestamp\">{new Date(msg.timestamp).toLocaleTimeString()}</span>}\n                  </div>\n                ))\n              )}\n              <div ref={messagesEndRef} />\n            </div>\n\n            {/* Message Input Form */}\n            <form onSubmit={handleSendMessage} className=\"message-form\">\n              <input\n                type=\"text\"\n                placeholder=\"Type your message here... (You can also share photos or thoughts)\"\n                value={message}\n                onChange={(e) => setMessage(e.target.value)}\n                className=\"kenya-input\"\n              />\n              <button type=\"submit\" className=\"kenya-button\">\n                ğŸ“¨ Send\n              </button>\n            </form>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div style={{textAlign: 'center', marginTop: '30px', padding: '20px', borderTop: '2px dashed var(--kenya-gold)', color: '#666'}}>\n          <p>\n            <strong>ğŸ‡°ğŸ‡ª Kenya Chat Connect</strong> - \n            Bringing Kenyans together worldwide! \n            ğŸ“ School Project | ğŸ’» Built with React & Socket.io\n            <br />\n            <small>Features: Real-time Chat â€¢ Private Messaging â€¢ Multiple Rooms â€¢ User Presence â€¢ Sound & Browser Notifications</small>\n          </p>\n          <div style={{display: 'flex', justifyContent: 'center', gap: '15px', marginTop: '10px', fontSize: '1.5rem'}}>\n            <span title=\"Real-time Chat\">ğŸ’¬</span>\n            <span title=\"Private Messaging\">ğŸ”’</span>\n            <span title=\"Notifications\">ğŸ””</span>\n            <span title=\"Community\">ğŸ‘¥</span>\n            <span title=\"Kenya Pride\">ğŸ‡°ğŸ‡ª</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}