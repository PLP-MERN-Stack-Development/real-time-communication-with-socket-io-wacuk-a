{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\MERNWEEK5\\\\real-time-communication-with-socket-io-wacuk-a\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport io from 'socket.io-client';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io('http://localhost:5000', {\n  transports: ['websocket', 'polling']\n});\nfunction App() {\n  _s();\n  const [username, setUsername] = useState('');\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [isRegistered, setIsRegistered] = useState(false);\n  const [privateMessage, setPrivateMessage] = useState('');\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [privateMessages, setPrivateMessages] = useState({});\n  const [activeRoom, setActiveRoom] = useState('general');\n  const [rooms, setRooms] = useState(['general', 'nairobi', 'mombasa', 'kisumu', 'coastal']);\n  const [connectionStatus, setConnectionStatus] = useState('disconnected');\n  const messagesEndRef = useRef(null);\n\n  // Monitor connection status\n  useEffect(() => {\n    socket.on('connect', () => {\n      console.log('âœ… Connected to server');\n      setConnectionStatus('connected');\n    });\n    socket.on('disconnect', () => {\n      console.log('âŒ Disconnected from server');\n      setConnectionStatus('disconnected');\n    });\n    socket.on('connect_error', error => {\n      console.log('âŒ Connection error:', error);\n      setConnectionStatus('error');\n    });\n    return () => {\n      socket.off('connect');\n      socket.off('disconnect');\n      socket.off('connect_error');\n    };\n  }, []);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages, privateMessages]);\n  useEffect(() => {\n    socket.on('chat message', data => {\n      setMessages(prev => [...prev, data]);\n    });\n    socket.on('user joined', userList => {\n      setUsers(userList);\n    });\n    socket.on('user left', userList => {\n      setUsers(userList);\n    });\n    socket.on('private message', data => {\n      console.log('ğŸ”’ Received private message:', data);\n      setPrivateMessages(prev => {\n        const key = [data.from, data.to].sort().join('-');\n        const updatedMessages = {\n          ...prev,\n          [key]: [...(prev[key] || []), data]\n        };\n        console.log('ğŸ“¦ Updated private messages:', updatedMessages);\n        return updatedMessages;\n      });\n    });\n    socket.on('room users', data => {\n      setUsers(data.users);\n    });\n    return () => {\n      socket.off('chat message');\n      socket.off('user joined');\n      socket.off('user left');\n      socket.off('private message');\n      socket.off('room users');\n    };\n  }, []);\n  const handleRegister = e => {\n    e.preventDefault();\n    if (username.trim()) {\n      console.log('ğŸ”„ Attempting to register:', username);\n      socket.emit('register', username);\n      setIsRegistered(true);\n      socket.emit('join room', {\n        username,\n        room: 'general'\n      });\n    }\n  };\n  const handleSendMessage = e => {\n    e.preventDefault();\n    if (message.trim() && username) {\n      const messageData = {\n        text: message,\n        sender: username,\n        timestamp: new Date().toISOString(),\n        room: activeRoom\n      };\n      console.log('ğŸ”„ Sending message:', messageData);\n      socket.emit('chat message', messageData);\n      setMessage('');\n    }\n  };\n  const handleSendPrivateMessage = e => {\n    e.preventDefault();\n    if (privateMessage.trim() && selectedUser && username) {\n      const privateMessageData = {\n        to: selectedUser,\n        from: username,\n        text: privateMessage,\n        timestamp: new Date().toISOString()\n      };\n      console.log('ğŸ”’ Sending private message:', privateMessageData);\n      socket.emit('private message', privateMessageData);\n\n      // Add the message to local state immediately\n      setPrivateMessages(prev => {\n        const key = [username, selectedUser].sort().join('-');\n        return {\n          ...prev,\n          [key]: [...(prev[key] || []), privateMessageData]\n        };\n      });\n      setPrivateMessage('');\n    }\n  };\n  const startPrivateChat = user => {\n    console.log('ğŸ’¬ Starting private chat with:', user);\n    setSelectedUser(user);\n  };\n  const closePrivateChat = () => {\n    setSelectedUser(null);\n    setPrivateMessage('');\n  };\n  const joinRoom = room => {\n    socket.emit('join room', {\n      username,\n      room\n    });\n    setActiveRoom(room);\n    setMessages([]);\n  };\n\n  // Quick messages in English\n  const quickMessages = [\"Hello everyone! ğŸ‘‹\", \"How is everyone doing? ğŸ˜Š\", \"Good morning! â˜€ï¸\", \"Anyone from Nairobi? ğŸ™ï¸\", \"Kenya to the world! ğŸ‡°ğŸ‡ª\", \"Have a great day! ğŸŒŸ\"];\n  const sendQuickMessage = msg => {\n    setMessage(msg);\n  };\n\n  // Get private messages for a specific user\n  const getPrivateMessagesWithUser = user => {\n    const key = [username, user].sort().join('-');\n    return privateMessages[key] || [];\n  };\n  if (!isRegistered) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"kenya-pattern\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"register-form floating\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\uD83C\\uDF89 Welcome to Kenya Chat Connect! \\uD83C\\uDF89\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              marginBottom: '20px',\n              color: '#666'\n            },\n            children: \"Connect with Kenyans from around the world in real-time!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '10px',\n              marginBottom: '15px',\n              borderRadius: '5px',\n              textAlign: 'center',\n              backgroundColor: connectionStatus === 'connected' ? '#d4edda' : connectionStatus === 'error' ? '#f8d7da' : '#fff3cd',\n              color: connectionStatus === 'connected' ? '#155724' : connectionStatus === 'error' ? '#721c24' : '#856404',\n              border: '1px solid'\n            },\n            children: [\"Status: \", connectionStatus.toUpperCase()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleRegister,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Choose your username...\",\n              value: username,\n              onChange: e => setUsername(e.target.value),\n              className: \"kenya-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"kenya-button\",\n              style: {\n                width: '100%',\n                marginTop: '15px'\n              },\n              disabled: connectionStatus !== 'connected',\n              children: connectionStatus === 'connected' ? 'ğŸ” Join Chat' : 'Connecting...'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '20px',\n              fontSize: '0.9rem',\n              color: '#888'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\uD83D\\uDCA1 Did you know:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this), \" Connecting Kenyans worldwide!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"kenya-pattern\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uD83C\\uDDF0\\uD83C\\uDDEA Kenya Chat Connect \\uD83C\\uDDF0\\uD83C\\uDDEA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Connecting Kenyans Worldwide - Now with Private Messaging!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              color: 'var(--kenya-green)',\n              margin: 0\n            },\n            children: [\"Welcome, \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 24\n            }, this), \"! \\uD83D\\uDC4B\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#666',\n              margin: 0\n            },\n            children: [\"Active room: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: activeRoom\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 28\n            }, this), selectedUser && ` | Private chat with: ${selectedUser}`]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"kenya-button\",\n          style: {\n            padding: '10px 20px'\n          },\n          children: [\"Online: \", users.length, \" | Status: \", connectionStatus]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"online-users\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"\\uD83D\\uDC65 Online Users (\", users.length - 1, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"users-list\",\n            children: users.filter(user => user !== username).map((user, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `user-item ${selectedUser === user ? 'selected' : ''}`,\n              onClick: () => startPrivateChat(user),\n              style: {\n                cursor: 'pointer'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  marginRight: '8px'\n                },\n                children: selectedUser === user ? 'ğŸ’¬' : 'ğŸŸ¢'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 19\n              }, this), user, getPrivateMessagesWithUser(user).length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  marginLeft: 'auto',\n                  background: 'var(--kenya-red)',\n                  color: 'white',\n                  borderRadius: '50%',\n                  width: '20px',\n                  height: '20px',\n                  fontSize: '12px',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center'\n                },\n                children: getPrivateMessagesWithUser(user).length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              marginTop: '30px',\n              marginBottom: '15px'\n            },\n            children: \"\\uD83C\\uDFE0 Chat Rooms\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '10px'\n            },\n            children: rooms.map(room => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => joinRoom(room),\n              className: `kenya-button ${activeRoom === room ? '' : 'secondary'}`,\n              style: {\n                background: activeRoom === room ? 'linear-gradient(45deg, var(--kenya-red), var(--kenya-black))' : 'linear-gradient(45deg, #666, #999)',\n                padding: '10px 15px',\n                fontSize: '14px'\n              },\n              children: [room === 'general' && 'ğŸŒ ', room === 'nairobi' && 'ğŸ™ï¸ ', room === 'mombasa' && 'ğŸ–ï¸ ', room === 'kisumu' && 'ğŸŸ ', room === 'coastal' && 'ğŸŒŠ ', room.charAt(0).toUpperCase() + room.slice(1)]\n            }, room, true, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              marginTop: '30px',\n              marginBottom: '15px'\n            },\n            children: \"\\uD83D\\uDCAC Quick Messages\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: '1fr 1fr',\n              gap: '8px'\n            },\n            children: quickMessages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => sendQuickMessage(msg),\n              className: \"kenya-button\",\n              style: {\n                padding: '8px 12px',\n                fontSize: '12px',\n                background: 'linear-gradient(45deg, var(--kenya-gold), var(--kenya-sun))',\n                color: 'var(--kenya-black)'\n              },\n              children: msg\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main-chat\",\n          children: [selectedUser && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"private-chat-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"private-chat-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: [\"\\uD83D\\uDCAC Private Chat with \", selectedUser]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: closePrivateChat,\n                className: \"close-button\",\n                children: \"\\u2715\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"private-messages\",\n              children: [getPrivateMessagesWithUser(selectedUser).length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  textAlign: 'center',\n                  color: '#666',\n                  padding: '20px'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"No messages yet. Start the conversation!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 21\n              }, this) : getPrivateMessagesWithUser(selectedUser).map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `message ${msg.from === username ? 'own-message' : 'other-message'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [msg.from, \":\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 25\n                }, this), \" \", msg.text, /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"timestamp\",\n                  children: new Date(msg.timestamp).toLocaleTimeString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 25\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 23\n              }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                ref: messagesEndRef\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleSendPrivateMessage,\n              className: \"private-message-form\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: `Type a private message for ${selectedUser}...`,\n                value: privateMessage,\n                onChange: e => setPrivateMessage(e.target.value),\n                className: \"kenya-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"kenya-button\",\n                children: \"\\uD83D\\uDCE4 Send\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-messages\",\n            children: [messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: 'center',\n                color: '#666',\n                padding: '40px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: [\"\\uD83C\\uDF89 Welcome to the \", activeRoom, \" room!\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Start a conversation by typing a message below...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: '20px',\n                  display: 'flex',\n                  flexWrap: 'wrap',\n                  gap: '10px',\n                  justifyContent: 'center'\n                },\n                children: quickMessages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => sendQuickMessage(msg),\n                  className: \"kenya-button\",\n                  style: {\n                    padding: '8px 15px',\n                    fontSize: '12px'\n                  },\n                  children: msg\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 17\n            }, this) : messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `message ${msg.sender === username ? 'own-message' : 'other-message'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [msg.sender, \":\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 21\n              }, this), \" \", msg.text, msg.timestamp && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"timestamp\",\n                children: new Date(msg.timestamp).toLocaleTimeString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 39\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 19\n            }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n              ref: messagesEndRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSendMessage,\n            className: \"message-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Type your message here... (You can also share photos or thoughts)\",\n              value: message,\n              onChange: e => setMessage(e.target.value),\n              className: \"kenya-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"kenya-button\",\n              children: \"\\uD83D\\uDCE8 Send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          marginTop: '30px',\n          padding: '20px',\n          borderTop: '2px dashed var(--kenya-gold)',\n          color: '#666'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\uD83C\\uDDF0\\uD83C\\uDDEA Kenya Chat Connect\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 13\n          }, this), \" - Bringing Kenyans together worldwide! \\uD83C\\uDF93 School Project | \\uD83D\\uDCBB Built with React & Socket.io\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            children: \"Features: Real-time Chat \\u2022 Private Messaging \\u2022 Multiple Rooms \\u2022 User Presence\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'center',\n            gap: '15px',\n            marginTop: '10px',\n            fontSize: '1.5rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            title: \"Real-time Chat\",\n            children: \"\\uD83D\\uDCAC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            title: \"Private Messaging\",\n            children: \"\\uD83D\\uDD12\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            title: \"Community\",\n            children: \"\\uD83D\\uDC65\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            title: \"Kenya Pride\",\n            children: \"\\uD83C\\uDDF0\\uD83C\\uDDEA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            title: \"Technology\",\n            children: \"\\uD83D\\uDCBB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 234,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"WlSJVzW+Iy52Ife+dOqYveFmxbo=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","io","jsxDEV","_jsxDEV","socket","transports","App","_s","username","setUsername","message","setMessage","messages","setMessages","users","setUsers","isRegistered","setIsRegistered","privateMessage","setPrivateMessage","selectedUser","setSelectedUser","privateMessages","setPrivateMessages","activeRoom","setActiveRoom","rooms","setRooms","connectionStatus","setConnectionStatus","messagesEndRef","on","console","log","error","off","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","data","prev","userList","key","from","to","sort","join","updatedMessages","handleRegister","e","preventDefault","trim","emit","room","handleSendMessage","messageData","text","sender","timestamp","Date","toISOString","handleSendPrivateMessage","privateMessageData","startPrivateChat","user","closePrivateChat","joinRoom","quickMessages","sendQuickMessage","msg","getPrivateMessagesWithUser","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","marginBottom","color","padding","borderRadius","textAlign","backgroundColor","border","toUpperCase","onSubmit","type","placeholder","value","onChange","target","width","marginTop","disabled","fontSize","display","justifyContent","alignItems","margin","length","filter","map","index","onClick","cursor","marginRight","marginLeft","background","height","flexDirection","gap","charAt","slice","gridTemplateColumns","toLocaleTimeString","ref","flexWrap","borderTop","title","_c","$RefreshReg$"],"sources":["C:/Users/User/Desktop/MERNWEEK5/real-time-communication-with-socket-io-wacuk-a/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport io from 'socket.io-client';\nimport './App.css';\n\nconst socket = io('http://localhost:5000', {\n  transports: ['websocket', 'polling']\n});\n\nfunction App() {\n  const [username, setUsername] = useState('');\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [isRegistered, setIsRegistered] = useState(false);\n  const [privateMessage, setPrivateMessage] = useState('');\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [privateMessages, setPrivateMessages] = useState({});\n  const [activeRoom, setActiveRoom] = useState('general');\n  const [rooms, setRooms] = useState(['general', 'nairobi', 'mombasa', 'kisumu', 'coastal']);\n  const [connectionStatus, setConnectionStatus] = useState('disconnected');\n  const messagesEndRef = useRef(null);\n\n  // Monitor connection status\n  useEffect(() => {\n    socket.on('connect', () => {\n      console.log('âœ… Connected to server');\n      setConnectionStatus('connected');\n    });\n\n    socket.on('disconnect', () => {\n      console.log('âŒ Disconnected from server');\n      setConnectionStatus('disconnected');\n    });\n\n    socket.on('connect_error', (error) => {\n      console.log('âŒ Connection error:', error);\n      setConnectionStatus('error');\n    });\n\n    return () => {\n      socket.off('connect');\n      socket.off('disconnect');\n      socket.off('connect_error');\n    };\n  }, []);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages, privateMessages]);\n\n  useEffect(() => {\n    socket.on('chat message', (data) => {\n      setMessages(prev => [...prev, data]);\n    });\n\n    socket.on('user joined', (userList) => {\n      setUsers(userList);\n    });\n\n    socket.on('user left', (userList) => {\n      setUsers(userList);\n    });\n\n    socket.on('private message', (data) => {\n      console.log('ğŸ”’ Received private message:', data);\n      setPrivateMessages(prev => {\n        const key = [data.from, data.to].sort().join('-');\n        const updatedMessages = {\n          ...prev,\n          [key]: [...(prev[key] || []), data]\n        };\n        console.log('ğŸ“¦ Updated private messages:', updatedMessages);\n        return updatedMessages;\n      });\n    });\n\n    socket.on('room users', (data) => {\n      setUsers(data.users);\n    });\n\n    return () => {\n      socket.off('chat message');\n      socket.off('user joined');\n      socket.off('user left');\n      socket.off('private message');\n      socket.off('room users');\n    };\n  }, []);\n\n  const handleRegister = (e) => {\n    e.preventDefault();\n    if (username.trim()) {\n      console.log('ğŸ”„ Attempting to register:', username);\n      socket.emit('register', username);\n      setIsRegistered(true);\n      socket.emit('join room', { username, room: 'general' });\n    }\n  };\n\n  const handleSendMessage = (e) => {\n    e.preventDefault();\n    if (message.trim() && username) {\n      const messageData = {\n        text: message,\n        sender: username,\n        timestamp: new Date().toISOString(),\n        room: activeRoom\n      };\n      console.log('ğŸ”„ Sending message:', messageData);\n      socket.emit('chat message', messageData);\n      setMessage('');\n    }\n  };\n\n  const handleSendPrivateMessage = (e) => {\n    e.preventDefault();\n    if (privateMessage.trim() && selectedUser && username) {\n      const privateMessageData = {\n        to: selectedUser,\n        from: username,\n        text: privateMessage,\n        timestamp: new Date().toISOString()\n      };\n      console.log('ğŸ”’ Sending private message:', privateMessageData);\n      socket.emit('private message', privateMessageData);\n      \n      // Add the message to local state immediately\n      setPrivateMessages(prev => {\n        const key = [username, selectedUser].sort().join('-');\n        return {\n          ...prev,\n          [key]: [...(prev[key] || []), privateMessageData]\n        };\n      });\n      setPrivateMessage('');\n    }\n  };\n\n  const startPrivateChat = (user) => {\n    console.log('ğŸ’¬ Starting private chat with:', user);\n    setSelectedUser(user);\n  };\n\n  const closePrivateChat = () => {\n    setSelectedUser(null);\n    setPrivateMessage('');\n  };\n\n  const joinRoom = (room) => {\n    socket.emit('join room', { username, room });\n    setActiveRoom(room);\n    setMessages([]);\n  };\n\n  // Quick messages in English\n  const quickMessages = [\n    \"Hello everyone! ğŸ‘‹\",\n    \"How is everyone doing? ğŸ˜Š\",\n    \"Good morning! â˜€ï¸\",\n    \"Anyone from Nairobi? ğŸ™ï¸\",\n    \"Kenya to the world! ğŸ‡°ğŸ‡ª\",\n    \"Have a great day! ğŸŒŸ\"\n  ];\n\n  const sendQuickMessage = (msg) => {\n    setMessage(msg);\n  };\n\n  // Get private messages for a specific user\n  const getPrivateMessagesWithUser = (user) => {\n    const key = [username, user].sort().join('-');\n    return privateMessages[key] || [];\n  };\n\n  if (!isRegistered) {\n    return (\n      <div className=\"App\">\n        <div className=\"kenya-pattern\"></div>\n        <div className=\"container\">\n          <div className=\"register-form floating\">\n            <h2>ğŸ‰ Welcome to Kenya Chat Connect! ğŸ‰</h2>\n            <p style={{marginBottom: '20px', color: '#666'}}>\n              Connect with Kenyans from around the world in real-time!\n            </p>\n            \n            {/* Connection Status Indicator */}\n            <div style={{\n              padding: '10px',\n              marginBottom: '15px',\n              borderRadius: '5px',\n              textAlign: 'center',\n              backgroundColor: \n                connectionStatus === 'connected' ? '#d4edda' :\n                connectionStatus === 'error' ? '#f8d7da' : '#fff3cd',\n              color: \n                connectionStatus === 'connected' ? '#155724' :\n                connectionStatus === 'error' ? '#721c24' : '#856404',\n              border: '1px solid'\n            }}>\n              Status: {connectionStatus.toUpperCase()}\n            </div>\n\n            <form onSubmit={handleRegister}>\n              <input\n                type=\"text\"\n                placeholder=\"Choose your username...\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n                className=\"kenya-input\"\n              />\n              <button \n                type=\"submit\" \n                className=\"kenya-button\" \n                style={{width: '100%', marginTop: '15px'}}\n                disabled={connectionStatus !== 'connected'}\n              >\n                {connectionStatus === 'connected' ? 'ğŸ” Join Chat' : 'Connecting...'}\n              </button>\n            </form>\n            <div style={{marginTop: '20px', fontSize: '0.9rem', color: '#888'}}>\n              <strong>ğŸ’¡ Did you know:</strong> Connecting Kenyans worldwide!\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"App\">\n      <div className=\"kenya-pattern\"></div>\n      \n      {/* Header */}\n      <header className=\"app-header\">\n        <div className=\"container\">\n          <h1>ğŸ‡°ğŸ‡ª Kenya Chat Connect ğŸ‡°ğŸ‡ª</h1>\n          <h2>Connecting Kenyans Worldwide - Now with Private Messaging!</h2>\n        </div>\n      </header>\n\n      <div className=\"container\">\n        <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px'}}>\n          <div>\n            <h3 style={{color: 'var(--kenya-green)', margin: 0}}>\n              Welcome, <strong>{username}</strong>! ğŸ‘‹\n            </h3>\n            <p style={{color: '#666', margin: 0}}>\n              Active room: <strong>{activeRoom}</strong>\n              {selectedUser && ` | Private chat with: ${selectedUser}`}\n            </p>\n          </div>\n          <div className=\"kenya-button\" style={{padding: '10px 20px'}}>\n            Online: {users.length} | Status: {connectionStatus}\n          </div>\n        </div>\n\n        <div className=\"chat-container\">\n          {/* Sidebar */}\n          <div className=\"online-users\">\n            <h3>ğŸ‘¥ Online Users ({users.length - 1})</h3>\n            <div className=\"users-list\">\n              {users.filter(user => user !== username).map((user, index) => (\n                <div \n                  key={index} \n                  className={`user-item ${selectedUser === user ? 'selected' : ''}`}\n                  onClick={() => startPrivateChat(user)}\n                  style={{cursor: 'pointer'}}\n                >\n                  <span style={{marginRight: '8px'}}>\n                    {selectedUser === user ? 'ğŸ’¬' : 'ğŸŸ¢'}\n                  </span>\n                  {user}\n                  {getPrivateMessagesWithUser(user).length > 0 && (\n                    <span style={{\n                      marginLeft: 'auto',\n                      background: 'var(--kenya-red)',\n                      color: 'white',\n                      borderRadius: '50%',\n                      width: '20px',\n                      height: '20px',\n                      fontSize: '12px',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center'\n                    }}>\n                      {getPrivateMessagesWithUser(user).length}\n                    </span>\n                  )}\n                </div>\n              ))}\n            </div>\n\n            {/* Chat Rooms */}\n            <h3 style={{marginTop: '30px', marginBottom: '15px'}}>ğŸ  Chat Rooms</h3>\n            <div style={{display: 'flex', flexDirection: 'column', gap: '10px'}}>\n              {rooms.map(room => (\n                <button\n                  key={room}\n                  onClick={() => joinRoom(room)}\n                  className={`kenya-button ${activeRoom === room ? '' : 'secondary'}`}\n                  style={{\n                    background: activeRoom === room ? \n                      'linear-gradient(45deg, var(--kenya-red), var(--kenya-black))' : \n                      'linear-gradient(45deg, #666, #999)',\n                    padding: '10px 15px',\n                    fontSize: '14px'\n                  }}\n                >\n                  {room === 'general' && 'ğŸŒ '}\n                  {room === 'nairobi' && 'ğŸ™ï¸ '}\n                  {room === 'mombasa' && 'ğŸ–ï¸ '}\n                  {room === 'kisumu' && 'ğŸŸ '}\n                  {room === 'coastal' && 'ğŸŒŠ '}\n                  {room.charAt(0).toUpperCase() + room.slice(1)}\n                </button>\n              ))}\n            </div>\n\n            {/* Quick Messages */}\n            <h3 style={{marginTop: '30px', marginBottom: '15px'}}>ğŸ’¬ Quick Messages</h3>\n            <div style={{display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '8px'}}>\n              {quickMessages.map((msg, index) => (\n                <button\n                  key={index}\n                  onClick={() => sendQuickMessage(msg)}\n                  className=\"kenya-button\"\n                  style={{\n                    padding: '8px 12px',\n                    fontSize: '12px',\n                    background: 'linear-gradient(45deg, var(--kenya-gold), var(--kenya-sun))',\n                    color: 'var(--kenya-black)'\n                  }}\n                >\n                  {msg}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Main Chat Area */}\n          <div className=\"main-chat\">\n            {/* Private Chat Section */}\n            {selectedUser && (\n              <div className=\"private-chat-section\">\n                <div className=\"private-chat-header\">\n                  <h3>ğŸ’¬ Private Chat with {selectedUser}</h3>\n                  <button \n                    onClick={closePrivateChat}\n                    className=\"close-button\"\n                  >\n                    âœ•\n                  </button>\n                </div>\n                \n                <div className=\"private-messages\">\n                  {getPrivateMessagesWithUser(selectedUser).length === 0 ? (\n                    <div style={{textAlign: 'center', color: '#666', padding: '20px'}}>\n                      <p>No messages yet. Start the conversation!</p>\n                    </div>\n                  ) : (\n                    getPrivateMessagesWithUser(selectedUser).map((msg, index) => (\n                      <div key={index} className={`message ${msg.from === username ? 'own-message' : 'other-message'}`}>\n                        <strong>{msg.from}:</strong> {msg.text}\n                        <span className=\"timestamp\">{new Date(msg.timestamp).toLocaleTimeString()}</span>\n                      </div>\n                    ))\n                  )}\n                  <div ref={messagesEndRef} />\n                </div>\n\n                <form onSubmit={handleSendPrivateMessage} className=\"private-message-form\">\n                  <input\n                    type=\"text\"\n                    placeholder={`Type a private message for ${selectedUser}...`}\n                    value={privateMessage}\n                    onChange={(e) => setPrivateMessage(e.target.value)}\n                    className=\"kenya-input\"\n                  />\n                  <button type=\"submit\" className=\"kenya-button\">\n                    ğŸ“¤ Send\n                  </button>\n                </form>\n              </div>\n            )}\n\n            {/* Main Chat Messages */}\n            <div className=\"chat-messages\">\n              {messages.length === 0 ? (\n                <div style={{textAlign: 'center', color: '#666', padding: '40px'}}>\n                  <h3>ğŸ‰ Welcome to the {activeRoom} room!</h3>\n                  <p>Start a conversation by typing a message below...</p>\n                  <div style={{marginTop: '20px', display: 'flex', flexWrap: 'wrap', gap: '10px', justifyContent: 'center'}}>\n                    {quickMessages.map((msg, index) => (\n                      <button\n                        key={index}\n                        onClick={() => sendQuickMessage(msg)}\n                        className=\"kenya-button\"\n                        style={{padding: '8px 15px', fontSize: '12px'}}\n                      >\n                        {msg}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              ) : (\n                messages.map((msg, index) => (\n                  <div key={index} className={`message ${msg.sender === username ? 'own-message' : 'other-message'}`}>\n                    <strong>{msg.sender}:</strong> {msg.text}\n                    {msg.timestamp && <span className=\"timestamp\">{new Date(msg.timestamp).toLocaleTimeString()}</span>}\n                  </div>\n                ))\n              )}\n              <div ref={messagesEndRef} />\n            </div>\n\n            {/* Message Input Form */}\n            <form onSubmit={handleSendMessage} className=\"message-form\">\n              <input\n                type=\"text\"\n                placeholder=\"Type your message here... (You can also share photos or thoughts)\"\n                value={message}\n                onChange={(e) => setMessage(e.target.value)}\n                className=\"kenya-input\"\n              />\n              <button type=\"submit\" className=\"kenya-button\">\n                ğŸ“¨ Send\n              </button>\n            </form>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div style={{textAlign: 'center', marginTop: '30px', padding: '20px', borderTop: '2px dashed var(--kenya-gold)', color: '#666'}}>\n          <p>\n            <strong>ğŸ‡°ğŸ‡ª Kenya Chat Connect</strong> - \n            Bringing Kenyans together worldwide! \n            ğŸ“ School Project | ğŸ’» Built with React & Socket.io\n            <br />\n            <small>Features: Real-time Chat â€¢ Private Messaging â€¢ Multiple Rooms â€¢ User Presence</small>\n          </p>\n          <div style={{display: 'flex', justifyContent: 'center', gap: '15px', marginTop: '10px', fontSize: '1.5rem'}}>\n            <span title=\"Real-time Chat\">ğŸ’¬</span>\n            <span title=\"Private Messaging\">ğŸ”’</span>\n            <span title=\"Community\">ğŸ‘¥</span>\n            <span title=\"Kenya Pride\">ğŸ‡°ğŸ‡ª</span>\n            <span title=\"Technology\">ğŸ’»</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}